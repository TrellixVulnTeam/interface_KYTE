<h2 style="margin-top: 0; margin-bottom: 8px">Avatar from my Tivoli files</h2>
<p *ngIf="loading">
	<mat-progress-bar mode="indeterminate"></mat-progress-bar>
</p>
<p *ngIf="error">
	Something went wrong... You can try looking for the avatar url on the files
	page or try again later.
</p>
<div style="display: flex; flex-direction: row; align-items: center">
	<mat-button-toggle-group style="margin-bottom: 8px">
		<mat-button-toggle [checked]="!data.usingTea">
			<mat-icon>link</mat-icon> https://
		</mat-button-toggle>
		<mat-button-toggle #tea="matButtonToggle" [checked]="data.usingTea">
			<mat-icon>emoji_food_beverage</mat-icon> tea://
		</mat-button-toggle>
	</mat-button-toggle-group>
	<p
		style="
			font-size: 0.9em;
			margin: 0;
			margin-left: 16px;
			margin-bottom: 6px;
			opacity: 0.4;
		"
	>
		Some may be tea:// only
	</p>
</div>
<div
	*ngIf="avatars && avatars.length > 0"
	style="
		overflow-x: hidden;
		overflow-y: auto;
		max-height: 70vh;
		margin-bottom: 8px;
		width: calc(100% + 16px);
	"
>
	<ng-container *ngFor="let avatar of avatars">
		<button
			mat-button
			*ngIf="!(!tea.checked && avatar.tea)"
			(click)="onUpdate(tea.checked, avatar.key)"
			style="margin: 0 -8px; display: block"
		>
			{{ avatar.key }}
		</button>
	</ng-container>
</div>
<div style="text-align: right">
	<button mat-flat-button (click)="onDiscard()">Discard</button>
</div>
